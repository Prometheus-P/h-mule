
# 🎧 VIBE CODING – AI 기반 개발 루틴

> 사람은 방향과 기준을 잡고, AI는 반복 노동을 한다.  
> GitHub에 남지 않는 얘기는 없었던 걸로 친다.

---

## 1. 기본 원칙

1. **사람은 “무엇/왜”, AI는 “어떻게”.**
2. 설계/이슈/스펙 없이 AI에게 코드 요청 금지.
3. AI가 만든 코드는 **PR 단위**로 보고, 사람이 리뷰 후 머지.
4. 문서/ERD/스펙이 먼저, 구현은 그 다음이다.

---

## 2. 기본 Loop

### 2.1 Plan 모드

1. GitHub Issue 작성 (배경, 할 일, 완료 조건)
2. Issue 링크 + 현재 문서(ARCHITECTURE, TECH_STACK)를 AI에게 전달
3. **“설계 먼저”** 요청:
   - 어떤 엔드포인트?
   - 어떤 데이터 모델?
   - 어떤 에러 케이스?

### 2.2 Build 모드

- 설계가 정리되면:
  - Go: handler, service, repository 코드 생성
  - Flutter: 화면 widget + state + API client 생성
- **한 PR = 한 기능/유즈케이스** 기준으로 쪼갠다.

### 2.3 Review 모드

- 사람이 체크:
  - 비즈니스 로직이 맞는지
  - 도메인 용어/이름 일관성
  - 에러/엣지케이스 처리
  - 테스트 포함 여부

### 2.4 Harmonize 모드

- 코드 머지 후:
  - ARCHITECTURE / TECH_STACK / ROADMAP 업데이트
  - 필요 시 ADR(Architectural Decision Record) 추가

---

## 3. 프롬프트 패턴

### 3.1 Backend 예시

> "너는 Go + chi + sqlc로 API를 만드는 15년차 시니어야.  
> 아래 ERD와 스펙을 기반으로 `/api/v1/deliveries` 생성용 핸들러/서비스/라우터 코드를 작성해줘.  
> 실패 케이스(역 미존재, 권한 없음, 잘못된 시간대)까지 고려하고, unit test 코드도 같이 만들어줘."

### 3.2 Flutter 예시

> "너는 Flutter senior dev야.  
> 아래 API 스펙을 기준으로 '새 배송 요청 생성' 폼 화면을 만들어줘.  
> Riverpod provider, 폼 validation, Dio client 호출, 로딩/에러 상태까지 포함해줘."

---

## 4. 안티 패턴 (금지 목록)

- “대충 Human Mule 전체 앱 만들어줘” 같은 초대형 요청
- DB 스키마도 없이 `User`, `Delivery` 모델을 막 만들어달라고 하는 것
- 테스트 없이 PR 올리기
- 스펙 안 고치고, 코드 쪽에서만 수습하려는 시도

---

## 5. 좋은 패턴

- “이 기능의 실패 케이스를 모두 나열해줘 → 그에 맞는 에러 코드/메시지 설계해줘”
- “이 핸들러의 코드 중복을 줄이기 위한 리팩토링 아이디어를 3개 제안해줘”
- “이 sqlc 쿼리들을 기준으로 repository 레이어를 깔끔하게 감싸는 패턴을 만들어줘”

---

## 6. 책임 분리

- **AI**
  - 반복적/보일러플레이트 코드
  - 테스트 스캐폴딩
  - 리팩토링 아이디어 제안
- **사람**
  - 비즈니스 규칙 정의
  - 실패 시나리오 정의
  - 최종 승인 & 머지

---
